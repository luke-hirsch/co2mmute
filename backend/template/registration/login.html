{% extends "base.html" %}

{% block title %}Sign in &ndash; CO2MMUTE{% endblock %}

{% block content %}
<section class="mx-auto w-full max-w-lg px-6 py-16">
  <div class="rounded-3xl border border-subtle bg-surface p-10 shadow-xl">
    <div class="flex flex-col gap-2 text-center">
      <span class="mx-auto inline-flex h-14 w-14 items-center justify-center rounded-2xl bg-primary-100 text-lg font-semibold text-primary-700 shadow-lg">
        ðŸ‘‹
      </span>
      <h1 class="text-2xl font-semibold text-primary-700">Welcome back</h1>
      <p class="text-sm text-muted">
        Sign in to continue managing sessions and tracking your city&apos;s COâ‚‚ budget.
      </p>
    </div>
    {% if form.non_field_errors %}
    <div class="form-error mt-6">
      {% for error in form.non_field_errors %}{{ error }}{% if not forloop.last %}<br />{% endif %}{% endfor %}
    </div>
    {% endif %}
    <form method="post" class="mt-8 space-y-6">
      {% csrf_token %}
      {% if next %}
      <input type="hidden" name="next" value="{{ next }}" />
      {% endif %}
      {% for field in form %}
      <div>
        <label for="{{ field.id_for_label }}">{{ field.label }}</label>
        {{ field }}
        {% if field.help_text %}
        <p class="form-help">{{ field.help_text|safe }}</p>
        {% endif %}
        {% if field.errors %}
        <div class="form-error">
          {% for error in field.errors %}{{ error }}{% if not forloop.last %}<br />{% endif %}{% endfor %}
        </div>
        {% endif %}
      </div>
      {% endfor %}
      <div class="flex items-center justify-between text-sm text-muted">
        <div class="flex items-center gap-2">
          <input
            id="id_remember"
            type="checkbox"
            name="remember"
            class="h-4 w-4 rounded border-subtle text-primary-600 focus:ring-primary-500"
          />
          <label for="id_remember" class="m-0 text-muted">Remember me</label>
        </div>
        <a
          href="{% url 'password_reset' %}"
          class="font-semibold text-primary-600 transition hover:text-primary-500"
          >Forgot password?</a
        >
      </div>
      <button type="submit" class="btn-primary w-full">Sign in</button>
    </form>
    <p class="mt-8 text-center text-sm text-muted">
      New to CO2MMUTE?
      <a
        href="{% url 'signup' %}"
        class="font-semibold text-primary-600 transition hover:text-primary-500"
        >Create an account</a
      >
    </p>
  </div>
</section>
{% endblock %}
